/* Netflix-style Hero + Peek Carousel */
.carousel-track {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding-right: 16px;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.carousel-track::-webkit-scrollbar {
  display: none;
}
.hero-card {
  flex: 0 0 85vw;
  width: 85vw;
  scroll-snap-align: start;
  aspect-ratio: 16/9;
}
@media (min-width: 1024px) {
  .hero-card {
    flex: 0 0 70%;
    width: 70%;
  }
}
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Base – Matte Slate */
  --bg-primary: #0D0D0D;
  --bg-surface: #1A1A1D;
  --bg-elevated: #25252A;
  --border-subtle: #2A2A2A;
  --header-offset: 76px; /* Matches fixed header height */

  /* Text */
  --text-primary: #FFFFFF;
  --text-secondary: #9E9E9E;
  --text-tertiary: #5A5A5A;

  /* Neon Accents */
  --neon-orange: #FF6B35;
  --neon-blue: #00D4FF;
  --neon-purple: #B857FF;

  /* Subtle glows – hover only */
  --glow-orange: 0 0 20px rgba(255, 107, 53, 0.4);
  --glow-blue: 0 0 20px rgba(0, 212, 255, 0.4);
  --glow-purple: 0 0 20px rgba(184, 87, 255, 0.4);
}

body {
  @apply bg-[var(--bg-primary)] text-[var(--text-primary)] antialiased;
}

main {
  padding-top: var(--header-offset);
}

/* Subtle pulse for the ... dots */
@keyframes pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}
.animate-dots {
  animation: pulse 3s ease-in-out infinite;
}

/* On-deck cards (B&W + color reveal) */
.on-deck img {
  filter: grayscale(100%) contrast(1.2);
  transition: filter 0.4s ease;
}
.on-deck:hover img {
  filter: none;
}

.tiptap-article h2 {
  @apply text-3xl font-bold mt-12 mb-6 font-netflix;
}

.tiptap-article h3 {
  @apply text-2xl font-bold mt-8 mb-4 font-netflix;
}

.tiptap-article p {
  @apply text-lg leading-relaxed mb-6 text-white/90;
}

.tiptap-article ul {
  @apply list-disc pl-6 mb-6;
}

.tiptap-article ol {
  @apply list-decimal pl-6 mb-6;
}

.tiptap-article blockquote {
  @apply border-l-4 border-red-500/60 pl-4 italic text-white/80 mb-6;
}

.tiptap-video-wrapper {
  @apply my-8;
}

.richtext-editor .ProseMirror {
  @apply min-h-[400px];
}

.richtext-editor .ProseMirror:focus {
  outline: none;
}

.article-breadcrumbs {
  position: relative;
  display: flex;
  align-items: center;
  gap: 0;
  padding: 8px 16px;
  background: var(--bg-primary);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: rgba(255, 255, 255, 0.6);
}

@media (min-width: 768px) {
  .article-breadcrumbs {
    padding: 8px 24px;
    font-size: 12px;
  }
}

.article-breadcrumbs a {
  color: rgba(255, 255, 255, 0.6);
  text-decoration: none;
  transition: color 0.2s ease;
}

.article-breadcrumbs a:hover {
  color: rgba(255, 255, 255, 1);
}

.article-breadcrumbs__separator {
  color: rgba(255, 255, 255, 0.3);
  margin: 0 6px;
}

.article-breadcrumbs__current {
  color: rgba(255, 255, 255, 0.8);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 220px;
}

@media (min-width: 768px) {
  .article-breadcrumbs__current {
    max-width: 500px;
  }
}

.article-hero {
  position: relative;
  width: 100%;
  margin-top: 0;
  padding-top: 0;
  overflow: hidden;
}

/* View Transitions API */
@supports (view-transition-name: none) {
  /* Smooth fade transition for page navigations */
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.3s;
  }

  /* Crossfade animation */
  ::view-transition-old(root) {
    animation-name: fade-out;
  }

  ::view-transition-new(root) {
    animation-name: fade-in;
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Slide up animation for main content */
  main {
    view-transition-name: main-content;
  }

  ::view-transition-old(main-content) {
    animation: slide-out 0.3s ease-out;
  }

  ::view-transition-new(main-content) {
    animation: slide-in 0.3s ease-out;
  }

  @keyframes slide-out {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(-20px);
      opacity: 0;
    }
  }

  @keyframes slide-in {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Preserve header position during transitions */
  header {
    view-transition-name: header;
  }

  ::view-transition-old(header),
  ::view-transition-new(header) {
    animation: none;
    mix-blend-mode: normal;
  }
}
